# Create a case having a mesh generated by blockMesh using the given dictionary.
#
# $1 -- case
# $2 -- blockMeshDict
define BlockMesh

.INTERMEDIATE: $1.intermediate

$(addprefix $1/,$(meshFiles)): $1.intermediate

$1.intermediate: \
  $1/$(blockMeshDict) \
  $1/$(controlDict)
	$(blockMesh) -case $1

$(eval $(call CopyFile,$2,$1/$(blockMeshDict)))
$(info $(call CopyNamedFile,$(dummy),$(controlDict),$1))

$(eval $(call MakeDir,$1/$(polyMesh)))
$(eval $(call MakeDir,$1/system))

endef
