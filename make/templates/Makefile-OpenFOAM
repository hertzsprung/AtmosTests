# Dynamically create a controlDict using a template.
#
# $1 -- case
# $2 -- duration (must be a multiple of timestep and writeInterval)
# $3 -- timestep
# $4 -- writeInterval (must be a multiple of timestep)
define ControlDict

$1/$(controlDict): $(template)/$(controlDict) | $1/system
	END_TIME=$2 TIMESTEP=$3 WRITE_INTERVAL=$4 $(envsubst) < $$< > $$@

endef
