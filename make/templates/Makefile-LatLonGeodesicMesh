# $1 -- case
# $2 -- earthProperties file
define LatLonGeodesicMesh

$(eval $(call MeshDiagnostics,$1))

.INTERMEDIATE: $1.intermediate

$(addprefix $1/,$(meshFiles)): $1.intermediate

$1.intermediate: \
  $(addprefix $1/,$(systemFiles)) \
  $1/$(earthProperties) \
  $(sphPolarLatLonMesh) \
| $1/constant \
  $1/system
	$(sphPolarLatLonMesh) -case $1
	sed -i 's/patch/empty/g' $1/$(boundary)

$(eval $(call CopyNamedFiles,$(dummy),$(systemFiles),$1))
$(eval $(call CopyFile,$2,$1/$(earthProperties)))
$(eval $(call MakeDir,$1))
$(eval $(call MakeDir,$1/constant))
$(eval $(call MakeDir,$1/system))

endef

